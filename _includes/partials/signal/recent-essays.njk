{% set essayPosts = collections.essay | excludeDrafts | reverse %}
{% set recentEssays = essayPosts | limit(3) %}

<div class="section-head">
    <span class="section-title">Recent Essays</span>
    <span class="section-meta">{{ essayPosts | length }} essays</span>
</div>
{% if recentEssays | length > 0 %}
{% for post in recentEssays %}
<div class="signal-post-item">
    <div class="post-date">
        <span class="day">{{ post.data.date | dayNumber }}</span>
        <span class="month-year">{{ post.data.date | monthYear }}</span>
    </div>
    <div class="post-content">
        <h3><a href="{{ post.url }}">{{ post.data.title }}</a></h3>
        <p class="post-excerpt">{{ post.content | excerpt | safe }}</p>
    </div>
    <span class="post-tag">Essay</span>
</div>
{% endfor %}
{% else %}
<div class="signal-post-item" style="justify-content: center;">
    <span style="color: var(--text-muted); font-size: 0.8rem;">No essays yet</span>
</div>
{% endif %}
