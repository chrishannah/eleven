<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="generator" content="Eleventy">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="code,blog,programmer,developer,tech,story,essay,thought,web"/>

    <meta name="theme-color" content="#0a0a0a">
    <meta name="fediverse:creator" content="@chrishannah@fosstodon.org"/>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        {% include "../../assets/css/signal-station.css" %}
    </style>

    <link rel="me" href="https://micro.blog/ChrisHannah"/>
    <link rel="me" href="https://github.com/chrishannah"/>
    <link href="https://x.com/chrishannah" rel="me">
    <link rel="webmention" href="https://webmention.io/chrishannah.me/webmention"/>
    <link rel="pingback" href="https://webmention.io/chrishannah.me/xmlrpc"/>

    <!-- RSS Feeds -->
    <link rel="alternate" type="application/rss+xml" href="https://chrishannah.me/feed" title="Chris Hannah">

    <!-- Analytics -->
    <script src="https://tinylytics.app/embed/e7KoNsv_jq9FizddEYyk.js?hits&kudos" defer></script>

    <title>{{ title or site.title }}</title>

    <!-- Prevent flash of wrong theme -->
    <script>
        (function() {
            var theme = localStorage.getItem('theme-preference') || 'auto';
            document.documentElement.setAttribute('data-theme', theme);
            {% if instagram.colorPalette %}
            window.__colorPalette = {{ instagram.colorPalette | dump | safe }};
            {% endif %}
            if (window.__colorPalette && localStorage.getItem('dynamic-colors') === 'on') {
                var p = window.__colorPalette;
                var s = document.documentElement.style;
                if (p.mutedLight) s.setProperty('--text', 'rgb(' + p.mutedLight + ')');
                if (p.muted) s.setProperty('--text-muted', 'rgb(' + p.muted + ')');
                if (p.vibrant) {
                    s.setProperty('--accent', 'rgb(' + p.vibrant + ')');
                    s.setProperty('--hover-bg', 'rgba(' + p.vibrant + ',0.1)');
                }
                if (p.vibrantDark) s.setProperty('--border', 'rgba(' + p.vibrantDark + ',0.3)');
            }
        })();
    </script>
</head>
<body>
    <div class="container">
        {% include "partials/signal/header.njk" %}

        <main class="main-grid">
            <!-- Primary: Writing -->
            <div class="main-col">
                {% include "partials/signal/latest-writing.njk" %}
                {% include "partials/signal/curated-links.njk" %}
                {% include "partials/signal/recent-essays.njk" %}
            </div>

            <!-- Secondary: Latest Activity, Projects, External Sites, Connect -->
            <div class="secondary-col">
                <div class="secondary-section activity-row">
                    {% include "partials/signal/latest-photo.njk" %}
                    {% include "partials/signal/live-activity.njk" %}
                </div>

                {% include "partials/signal/currently-listening.njk" %}
                {% include "partials/signal/projects.njk" %}
                {% include "partials/signal/external-sites.njk" %}
                {% include "partials/signal/connect.njk" %}
                {% include "partials/signal/blogroll.njk" %}
            </div>
        </main>

        <!-- Bottom: Stats, Milestones, System -->
        <div class="bottom-grid">
            {% include "partials/signal/stats.njk" %}
            {% include "partials/signal/milestones.njk" %}
            {% include "partials/signal/system.njk" %}
        </div>

        {% include "partials/signal/footer.njk" %}
    </div>

    <!-- Hidden Tinylytics placeholder for live-activity.js to read -->
    <span class="tinylytics_hits" style="display:none;"></span>

    <script src="/js/live-activity.js" defer></script>
    <script src="/js/theme.js"></script>
</body>
</html>
